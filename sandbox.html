<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Sandbox</title>
</head>
<body>
  <script>
    // Listen for code injection
    window.addEventListener("message", (event) => {
      const content = event.data;

      // Create container for execution
      const div = document.createElement("div");
      div.innerHTML = content;
      document.body.appendChild(div);

      // Listen for flag reply
      window.addEventListener("message", (msg) => {
        if (msg.data.startsWith("CTF{")) {
          // Forward to top level
          window.parent.postMessage(msg.data, "*");
        }
      });
    });
  </script>
</body>
</html>
